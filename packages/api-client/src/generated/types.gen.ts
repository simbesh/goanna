// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
    baseUrl: 'http://localhost:8080' | (string & {});
};

export type HealthResponse = {
    status: string;
};

export type Monitor = {
    id: number;
    label?: string | null;
    method: string;
    url: string;
    iconUrl: string;
    body?: string | null;
    headers?: {
        [key: string]: string;
    };
    auth?: {
        [key: string]: string;
    };
    notificationChannels?: Array<'telegram'>;
    notificationIssues: Array<MonitorNotificationIssue>;
    selector?: string | null;
    expectedType: 'json' | 'html' | 'text';
    expectedResponse?: string | null;
    cron: string;
    enabled: boolean;
    status: 'pending' | 'ok' | 'error' | 'retrying' | 'disabled';
    checkCount: number;
    nextRunAt?: string | null;
    lastCheckAt?: string | null;
    lastSuccessAt?: string | null;
    lastErrorAt?: string | null;
    lastStatusCode?: number | null;
    lastDurationMs?: number | null;
    lastErrorMessage?: string | null;
    createdAt: string;
    updatedAt: string;
};

export type MonitorNotificationIssue = {
    channel: string;
    code: string;
    message: string;
};

export type CreateMonitorRequest = {
    label?: string;
    method?: string;
    url: string;
    iconUrl?: string;
    body?: string;
    headers?: {
        [key: string]: string;
    };
    auth?: {
        [key: string]: string;
    };
    notificationChannels?: Array<'telegram'>;
    selector?: string;
    expectedType?: 'json' | 'html' | 'text';
    expectedResponse?: string;
    cron: string;
    enabled?: boolean;
    triggerOnCreate?: boolean;
};

export type TestMonitorRequest = {
    method?: string;
    url: string;
    body?: string;
    headers?: {
        [key: string]: string;
    };
    auth?: {
        [key: string]: string;
    };
};

export type TestMonitorResponse = {
    ok: boolean;
    status: number;
    statusText: string;
    headers: {
        [key: string]: string;
    };
    body: unknown;
};

export type SelectorPreviewRequest = {
    /**
     * Raw JSON payload to evaluate.
     */
    json: string;
    /**
     * Optional gjson selector path.
     */
    selector?: string;
};

export type SelectorPreviewResponse = {
    exists: boolean;
    /**
     * one of none, null, false, number, string, true, json.
     */
    type: string;
    /**
     * Raw selected value as JSON text.
     */
    raw?: string | null;
    /**
     * Normalized value used for monitor expectedResponse comparison.
     */
    value?: string | null;
};

export type TelegramSettings = {
    enabled: boolean;
    botToken: string;
    chatId: string;
    updatedAt?: string | null;
};

export type UpsertTelegramSettingsRequest = {
    enabled?: boolean;
    botToken: string;
    chatId: string;
};

export type TestTelegramSettingsRequest = {
    botToken: string;
    chatId: string;
    message?: string | null;
};

export type TestTelegramSettingsResponse = {
    ok: boolean;
};

export type RuntimeSettings = {
    checksHistoryLimit: number;
    timezone?: string | null;
    requiredSettings: Array<string>;
    updatedAt?: string | null;
};

export type UpsertRuntimeSettingsRequest = {
    checksHistoryLimit: number;
    timezone: string;
};

export type MonitorCheck = {
    id: number;
    status: 'ok' | 'error' | 'retrying' | 'pending' | 'unknown';
    statusCode?: number | null;
    responseTimeMs?: number | null;
    errorMessage?: string | null;
    selectionType?: string | null;
    selectionValue?: string | null;
    diffChanged?: boolean;
    diffKind?: string | null;
    diffSummary?: string | null;
    diffDetails?: string | null;
    checkedAt: string;
};

export type MonitorTriggerResult = {
    monitor: Monitor;
    check?: MonitorCheck | null;
};

export type GetHealthData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/healthz';
};

export type GetHealthResponses = {
    /**
     * API is healthy
     */
    200: HealthResponse;
};

export type GetHealthResponse = GetHealthResponses[keyof GetHealthResponses];

export type ListMonitorsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/v1/monitors';
};

export type ListMonitorsResponses = {
    /**
     * Current monitors
     */
    200: Array<Monitor>;
};

export type ListMonitorsResponse = ListMonitorsResponses[keyof ListMonitorsResponses];

export type CreateMonitorData = {
    body: CreateMonitorRequest;
    path?: never;
    query?: never;
    url: '/v1/monitors';
};

export type CreateMonitorErrors = {
    /**
     * Invalid request body
     */
    400: unknown;
};

export type CreateMonitorResponses = {
    /**
     * Monitor created
     */
    201: MonitorTriggerResult;
};

export type CreateMonitorResponse = CreateMonitorResponses[keyof CreateMonitorResponses];

export type DeleteMonitorData = {
    body?: never;
    path: {
        monitorId: number;
    };
    query?: never;
    url: '/v1/monitors/{monitorId}';
};

export type DeleteMonitorErrors = {
    /**
     * Monitor not found
     */
    404: unknown;
};

export type DeleteMonitorResponses = {
    /**
     * Monitor deleted
     */
    204: void;
};

export type DeleteMonitorResponse = DeleteMonitorResponses[keyof DeleteMonitorResponses];

export type UpdateMonitorData = {
    body: CreateMonitorRequest;
    path: {
        monitorId: number;
    };
    query?: never;
    url: '/v1/monitors/{monitorId}';
};

export type UpdateMonitorErrors = {
    /**
     * Invalid request body
     */
    400: unknown;
    /**
     * Monitor not found
     */
    404: unknown;
};

export type UpdateMonitorResponses = {
    /**
     * Monitor updated
     */
    200: Monitor;
};

export type UpdateMonitorResponse = UpdateMonitorResponses[keyof UpdateMonitorResponses];

export type TriggerMonitorData = {
    body?: never;
    path: {
        monitorId: number;
    };
    query?: never;
    url: '/v1/monitors/{monitorId}/trigger';
};

export type TriggerMonitorErrors = {
    /**
     * Monitor cannot be triggered
     */
    400: unknown;
    /**
     * Monitor not found
     */
    404: unknown;
};

export type TriggerMonitorResponses = {
    /**
     * Monitor trigger completed
     */
    200: MonitorTriggerResult;
};

export type TriggerMonitorResponse = TriggerMonitorResponses[keyof TriggerMonitorResponses];

export type TestMonitorUrlData = {
    body: TestMonitorRequest;
    path?: never;
    query?: never;
    url: '/v1/monitors/test';
};

export type TestMonitorUrlErrors = {
    /**
     * Invalid request body
     */
    400: unknown;
};

export type TestMonitorUrlResponses = {
    /**
     * Test response from target URL
     */
    200: TestMonitorResponse;
};

export type TestMonitorUrlResponse = TestMonitorUrlResponses[keyof TestMonitorUrlResponses];

export type PreviewMonitorSelectorData = {
    body: SelectorPreviewRequest;
    path?: never;
    query?: never;
    url: '/v1/monitors/selector-preview';
};

export type PreviewMonitorSelectorErrors = {
    /**
     * Invalid request body
     */
    400: unknown;
};

export type PreviewMonitorSelectorResponses = {
    /**
     * Selector evaluation output
     */
    200: SelectorPreviewResponse;
};

export type PreviewMonitorSelectorResponse = PreviewMonitorSelectorResponses[keyof PreviewMonitorSelectorResponses];

export type GetTelegramSettingsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/v1/settings/notifications/telegram';
};

export type GetTelegramSettingsResponses = {
    /**
     * Telegram channel settings
     */
    200: TelegramSettings;
};

export type GetTelegramSettingsResponse = GetTelegramSettingsResponses[keyof GetTelegramSettingsResponses];

export type UpsertTelegramSettingsData = {
    body: UpsertTelegramSettingsRequest;
    path?: never;
    query?: never;
    url: '/v1/settings/notifications/telegram';
};

export type UpsertTelegramSettingsErrors = {
    /**
     * Invalid request body
     */
    400: unknown;
};

export type UpsertTelegramSettingsResponses = {
    /**
     * Updated Telegram channel settings
     */
    200: TelegramSettings;
};

export type UpsertTelegramSettingsResponse = UpsertTelegramSettingsResponses[keyof UpsertTelegramSettingsResponses];

export type TestTelegramSettingsData = {
    body: TestTelegramSettingsRequest;
    path?: never;
    query?: never;
    url: '/v1/settings/notifications/telegram/test';
};

export type TestTelegramSettingsErrors = {
    /**
     * Invalid request body
     */
    400: unknown;
    /**
     * Failed to send Telegram message
     */
    502: unknown;
};

export type TestTelegramSettingsResponses = {
    /**
     * Test message was sent
     */
    200: TestTelegramSettingsResponse;
};

export type TestTelegramSettingsResponse2 = TestTelegramSettingsResponses[keyof TestTelegramSettingsResponses];

export type GetRuntimeSettingsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/v1/settings/runtime';
};

export type GetRuntimeSettingsResponses = {
    /**
     * Runtime settings
     */
    200: RuntimeSettings;
};

export type GetRuntimeSettingsResponse = GetRuntimeSettingsResponses[keyof GetRuntimeSettingsResponses];

export type UpsertRuntimeSettingsData = {
    body: UpsertRuntimeSettingsRequest;
    path?: never;
    query?: never;
    url: '/v1/settings/runtime';
};

export type UpsertRuntimeSettingsErrors = {
    /**
     * Invalid request body
     */
    400: unknown;
};

export type UpsertRuntimeSettingsResponses = {
    /**
     * Updated runtime settings
     */
    200: RuntimeSettings;
};

export type UpsertRuntimeSettingsResponse = UpsertRuntimeSettingsResponses[keyof UpsertRuntimeSettingsResponses];

export type ListMonitorChecksData = {
    body?: never;
    path: {
        monitorId: number;
    };
    query?: {
        limit?: number;
    };
    url: '/v1/monitors/{monitorId}/checks';
};

export type ListMonitorChecksErrors = {
    /**
     * Monitor not found
     */
    404: unknown;
};

export type ListMonitorChecksResponses = {
    /**
     * Recent checks for the monitor
     */
    200: Array<MonitorCheck>;
};

export type ListMonitorChecksResponse = ListMonitorChecksResponses[keyof ListMonitorChecksResponses];
